<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Gestión de usuarios</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/2.1.8/css/dataTables.bootstrap5.css"
    />
    <style>
      /* Estilos para la navegación y el contenedor */
      body {
        display: flex;
        min-height: 100vh;
        margin: 0;
        background-color: #c0c0c0;
      }

      .bg-dark {
        width: 250px;
        height: 100vh;
      }

      .container-content {
        flex-grow: 1;
        padding: 2rem;
      }

      /* Estilos para la tabla */
      .table-responsive {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .table {
        margin-top: 1rem;
      }
      
      /* Botón */
      .btn-danger {
        margin-top: 1rem;
      }
    </style>
  </head>
  <body>
    <!-- Sidebar de Navegación -->
    <nav class="bg-dark p-3">
      <div class="text-center mb-4">
        <img
          src="{% static 'img/logo.jpg' %}"
          alt="Logo AmiStore"
          class="img-fluid"
          style="width: 150px; border-radius: 50%"
        />
      </div>
      <h2 class="text-center text-white mb-4">AMISTORE</h2>
      <ul class="nav flex-column">
        <li class="nav-item mb-2">
          <a href="{% url 'inventario' %}" class="nav-link text-white"
            ><i class="bi bi-house-door-fill"></i> Inicio</a
          >
        </li>
        <li class="nav-item mb-2">
          <a href="{% url 'invProduct' %}" class="nav-link text-white"
            ><i class="bi bi-box-seam-fill"></i> Inventario de Productos</a
          >
        </li>
        <li class="nav-item mb-2">
          <a href="{% url 'reports' %}" class="nav-link text-white"
            ><i class="bi bi-flag-fill"></i> Generar Reporte Diario</a
          >
        </li>
      </ul>
    </nav>

    <!-- Contenedor Principal -->
    <div class="container-content">
      <div class="d-flex justify-content-between align-items-center">
        <h1 class="mb-0">Gestion de usuarios</h1>
      </div>

      <div class="alert alert-info mt-4" role="alert">
        <i class="fa-solid fa-info-circle"></i> Bienvenido a la gestión de
        usuarios.
      </div>

      <div class="table-responsive">
        <table
          id="example"
          class="table table-striped"
          style="width: 100%"
        >
          <thead>
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Nombre</th>
              <th scope="col">Apellido</th>
              <th scope="col">Correo</th>
              <th scope="col">Rol</th>
            </tr>
          </thead>
          <tbody>
            {% if Usuarios %} {% for user in Usuarios %}
            <tr>
              <td>{{ user.id }}</td>
              <td>{{ user.nombre }}</td>
              <td>{{ user.apellido }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.rol }}</td>
            </tr>
            {% endfor %} {% else %}
            <tr class="text-center">
              <td colspan="5">No hay usuarios registrados</td>
            </tr>
            {% endif %}
          </tbody>
        </table>
      </div>
    </div>

    <!-- Scripts -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/2.1.8/js/dataTables.js"></script>
    <script src="https://cdn.datatables.net/2.1.8/js/dataTables.bootstrap5.js"></script>
    <script src="https://cdn.datatables.net/buttons/3.1.2/js/dataTables.buttons.js"></script>
    <script src="https://cdn.datatables.net/buttons/3.1.2/js/buttons.dataTables.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/3.1.2/js/buttons.html5.min.js"></script>

    <script>
      new DataTable("#example", {
        responsive: true,
        layout: {
          topStart: {
            buttons: [
              {
                extend: "pdfHtml5",
                download: "open",
              },
            ],
          },
        },
      });
    </script>
  </body>
</html>
